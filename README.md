# dy_lottery_helper
## 2025/09/22
## 版本2.1.2
1.**优化了被风控判断逻辑**，变更为’当本次钻石收益/今日钻石收益<-5时或本次未中福袋的频率<0.1时会触发该检测，同时提高粉丝团福袋的筛选概率’

2.修复了VIP功能无法正常使用的bug，并添加了VIP功能’自定义被风控判断规则’，现版本VIP用户拥有的功能:(1)设置福袋筛选概率;(2)筛选福袋类型;(3)自定义被风控规则

## 2025/09/21
## 版本2.1.1
解决了selenium使用switch_to.window方法时会抢夺窗口焦点的问题，但仍保留了键盘监听事件

如果浏览器仍然会抢夺窗口焦点，请尝试重启程序

## 2025/09/19
## 版本2.1.0
1.修复了一些bug

2.添加了一些VIP功能，在’账号说明’中有提到，**VIP用户搜索到的直播间会更加优质**

3.添加了**键盘事件监听**，解决了浏览器窗口会被强制放在最前面造成电脑使用不便的问题。你可以按下’1’键来隐藏浏览器，但不要频繁按下’1’键，有时候监听会失灵。你可以按下’f2’键取消键盘事件监听

**注意:被隐藏的浏览器仍然会占用窗口焦点，这意味着如果你需要频繁地使用键盘，十分不建议运行该程序！！！(鼠标操作影响不大)**

**还是建议你在服务器上或者虚拟机上运行该程序！**

## 2025/09/17
## 版本2.0.0
对未发布的初始版本1.0.0进行了重构

## 程序功能:

1.尽可能**模拟了真实用户抢福袋**，并运用了一定程度的**反反爬措施**，以尽可能减少被风控的可能性和风控时间

2.会**自动抢指定类型(发送评论/粉丝团福袋)的福袋**，暂不支持抢其它类型的福袋

福袋筛选概率(大于指定数值时会抢):

发送评论 -> 0.1

粉丝团 -> 0.2 + math.log(未中福袋的数量, 2)/100 + 中福袋的数量/100 

(被风控状态下->0.3 + math.log(未中福袋的数量, 2)/100 + 中福袋的数量/100)

**暂不支持只抢某种类型的福袋以及修改某种类型的福袋的筛选概率**

3.一些**福袋抽奖记录**(加入粉丝团/抽中了福袋)会保存至_internal/lottery/xxx.json下，0_today.json记录了今天的福袋抽奖记录

4.添加了'**被风控检测**'，当本次钻石收益/今日钻石收益<-10时会触发该检测，同时提高粉丝团福袋的筛选概率

## 目前版本无法解决的问题:
> [!WARNING]
> **程序运行时会频繁将浏览器窗口放在最前面。**

> [!TIP]
> **可能的解决方法:**\
> \
> 1.部署到服务器上\
> \
> 2.部署到虚拟机上

**如果不采用以上方法，请在不使用电脑的情况下运行该程序，不然会影响电脑使用体验！**
